\oddsidemargin 0.5in \evensidemargin 0in
\marginparwidth 40pt \marginparsep 10pt
\topmargin 0pt \headsep .5in
\textheight 8.1in \textwidth 6in

\brokenpenalty=10000

\renewcommand{\baselinestretch}{1.0}

\def\cl@chapter{\@elt{section}\@elt{footnote}}
\def\thefigure{\@arabic\c@figure}
\def\thetable{\@arabic\c@table}
\def\theequation{\arabic{equation}}

\newif\iffigurespage \newif\iftablespage
\figurespagefalse
\tablespagefalse

\def\frontespizio{
  \pagenumbering{gobble}
  \begin{center}
    {\LARGE \uppercase{Universit√† degli Studi di Milano}}\\
    \uppercase{Faculty of Science and Technology}\\
    \vskip 0.4 cm
    \uppercase{Department of Computer Science\\Giovanni Degli Antoni}\\
    \vskip 0.6 cm
    \centerline{\includegraphics[height=30mm]{images/university.png}}
    \vskip 0.4 cm
    \uppercase{\myCDL}
  \end{center}
  
  \vfill
  \vskip 1.5 cm
  \begin{center}
    {\Large\uppercase\expandafter{\myTitle}}
  \end{center}
  
  \vfill
  \vskip 3 cm
  
  \begin{tabular}{ll}
    {\large Supervisor:} & \large \myRefereeA\\
    {\large Co-supervisor:} & \large \myRefereeB\\
  \end{tabular}
  
  \vfill
  \vskip 0.5 cm
  
  \begin{tabular}{l}
    \hspace{9cm}{\large}\\
    \hspace{9cm}{\large}\\
    \hspace{9cm}{\large \myName}\\
    \hspace{9cm}{{\large \myMat}}\\
  \end{tabular}
  
  \vfill
  \vskip 2 cm
  
  \begin{center}
    \sc academic year \myYY
  \end{center}\vskip.5in
  \newpage
}

\def\beforepreface{
  \pagenumbering{roman}
  \pagestyle{plain}}

\def\prefacesection#1{%
  \chapter*{#1}
  \addcontentsline{toc}{chapter}{#1}}

\def\afterpreface{\newpage
  \addcontentsline{toc}{chapter}{Index}
  \tableofcontents
  \newpage
  \iftablespage
    {\addvspace{10pt}
    \let\saveaddvspace=\addvspace
    \def\addvspace##1{}
    \addcontentsline{toc}{chapter}{List of Tables}
    \listoftables
    \let\addvspace=\saveaddvspace}
    \newpage
  \fi
  \iffigurespage
    {\addvspace{10pt}
    \let\saveaddvspace=\addvspace
    \def\addvspace##1{}
    \addcontentsline{toc}{chapter}{List of Figures}
    \listoffigures
    \let\addvspace=\saveaddvspace}
    \newpage
  \fi
  \pagenumbering{arabic}
  \pagestyle{headings}}

\pagestyle{headings}